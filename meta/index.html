<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meta</title>
    <script type="module" src="../global.js"></script>
    <link rel="stylesheet" href="../style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script type="module" src="main.js"></script>
</head>
<body>
    <main>
        <h1>Meta</h1>

        <section id="summary-stats">
            <h2>Summary Statistics</h2>
            <div id="stats"></div>
        </section>

        <section id="evolution-section">
            <h2>Commit Evolution</h2>
            <div id="evolution-controls">
                <label>
                    Show commits until: 
                    <input type="range" id="commitProgressSlider" min="0" max="100" value="100">
                    <time id="selectedTime"></time>
                </label>
            </div>
            <div id="chart"></div>
            <p id="selection-count">No commits selected</p>
            <dl id="language-breakdown" class="stats"></dl>
        </section>

        <div id="scrollytelling">
            <div id="scroll-container">
                <div id="spacer"></div>
                <div id="items-container"></div>
            </div>
            <div id="scrolly-chart"></div>
        </div>

        <section id="file-visualization">
            <h2>Files by Size</h2>
            <div class="file-visualization-container">
              <div id="file-scrollytelling">
                <dl class="files evolution-files"></dl>
                <div id="file-scroll-container">
                  <div id="file-spacer"></div>
                  <div id="file-items-container"></div>
                </div>
              </div>
            </div>
          </section>


    <section id="daily-lines-section" class="chart-section">
        <h2>Lines Changed Per Day</h2>
        <p class="section-description">
          This chart shows the number of lines changed on each day of development. Each bar represents 
          the total number of lines modified across all commits made on that day. Hover over a bar for 
          details, or click on a bar to select all commits from that day.
        </p>
        <div id="daily-lines-chart" class="chart-container">
          <!-- The bar chart will be rendered here by JavaScript -->
        </div>
      </section>

       <!-- Files Per Day Scrollytelling -->
    <section class="scrollytelling-section">
        <h2>File Evolution</h2>
        <div class="scrolly-container right-aligned">
            <div class="scrolly-text">
                <div class="step" data-step="intro">
                    <h3>Files and Changes Over Time</h3>
                    <p>As the project evolved, different files received attention at different times.</p>
                </div>
                <div class="step" data-step="first-week">
                    <h3>Initial Development</h3>
                    <p>The first files created set the foundation for the project structure.</p>
                </div>
                <div class="step" data-step="mid-project">
                    <h3>Growing Complexity</h3>
                    <p>As development continued, more files were added and existing ones expanded.</p>
                </div>
                <div class="step" data-step="late-project">
                    <h3>Refinement Phase</h3>
                    <p>Later stages focused on refining specific files and optimizing functionality.</p>
                </div>
                <div class="step" data-step="complete">
                    <h3>Complete Project</h3>
                    <p>The final state shows which files required the most modification throughout development.</p>
                </div>
            </div>
            <div class="scrolly-viz" id="files-per-day-viz"></div>
        </div>
    </section>
      
      <!-- Tooltip container for the bar chart -->
      <dl id="bar-tooltip" class="tooltip" hidden></dl>
    </main>

    <dl id="commit-tooltip" class="info tooltip" hidden>
        <dt>Commit</dt>
        <dd><a href="" id="commit-link" target="_blank"></a></dd>
        <dt>Date</dt>
        <dd id="commit-date"></dd>
        <dt>Time</dt>
        <dd id="commit-time"></dd>
        <dt>Author</dt>
        <dd id="commit-author"></dd>
        <dt>Lines</dt>
        <dd id="commit-lines"></dd>
    </dl>
</body>
</html>